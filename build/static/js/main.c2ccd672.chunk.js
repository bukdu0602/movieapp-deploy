(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[0],{22:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var a=c(1),i=c.n(a),n=c(10),s=c.n(n),r=c(5),o=c(2),l=c(4),j=c(0),d=function(){var e=Object(a.useState)("none"),t=Object(l.a)(e,2),c=t[0],i=t[1];return Object(j.jsx)("header",{className:c,onMouseLeave:function(e){i("none")},children:Object(j.jsxs)("div",{className:"top-bar",children:[Object(j.jsx)("h1",{children:Object(j.jsx)(r.b,{to:"/",children:"Movie App"})}),Object(j.jsx)("a",{href:"/",className:"btn-menu ",id:"btn-menu",onClick:function(e){e.preventDefault(),i("show"!==c?"show":"none")},children:"Menu"}),Object(j.jsx)("nav",{id:"main-nav",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{to:"/",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{to:"/favorite",children:"Favorite"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{to:"/about",children:"About"})})]})})]})})},b=(c(22),c(8)),p=c.n(b),h=c(11),u=c.p+"static/media/no-movie-poster.dc594cc6.jpg",O=function(e){var t=e.sort,c=Object(a.useState)(null),i=Object(l.a)(c,2),n=i[0],s=i[1],d=Object(o.f)();return Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var c,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?language=en-US&page=1"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiY2M4MWY2ZjY0ZDY0MTMyODBkODUwMTRlNzJlNGIxNSIsInN1YiI6IjYxYWQ1ZjRiZTAwNGE2MDA4YzZmZGQxMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VnONU7V3KXqYZsdyjtzt6Sh61enGW238JWOFseFcDaY"}});case 2:return c=e.sent,e.next=5,c.json();case 5:a=e.sent,i=a.results.splice(0,12),s(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(j.jsxs)("section",{className:"home-page",children:[Object(j.jsxs)("div",{className:"sortMenu",children:[Object(j.jsx)("label",{htmlFor:"myList"}),Object(j.jsxs)("select",{id:"myList",name:"myList",onChange:function(e){e.preventDefault();var t=e.target.value;d(t,{replace:!0})},children:[Object(j.jsx)("option",{value:"",children:"Select"}),Object(j.jsx)("option",{value:"/sort/popular",children:"Popular"}),Object(j.jsx)("option",{value:"/sort/top-rated",children:"Top Rated"}),Object(j.jsx)("option",{value:"/sort/now-playing",children:"Now Playing"}),Object(j.jsx)("option",{value:"/sort/upcoming",children:"Upcoming"})]})]}),Object(j.jsx)("nav",{className:"nav-sort"}),Object(j.jsx)("div",{className:"cards",children:null!==n&&n.map((function(e,t){return Object(j.jsxs)("div",{className:"card",onClick:function(){return t=e.id,void d("individual/".concat(t),{replace:!0});var t},children:[Object(j.jsx)("div",{className:"posterImage",children:null!==e.poster_path?Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:e.title}):Object(j.jsx)("img",{src:u,alt:"No Images"})}),Object(j.jsxs)("div",{className:"movieInfo",children:[Object(j.jsx)("h3",{children:"Title: ".concat(e.title)}),Object(j.jsx)("p",{children:"Released date: ".concat(e.release_date)}),Object(j.jsx)("p",{children:"Rating: ".concat(e.vote_average)}),e.overview.length>80?Object(j.jsxs)("p",{children:[e.overview.substring(0,80)," . . ."]}):Object(j.jsx)("p",{children:e.overview}),Object(j.jsx)(r.b,{to:"/individual/".concat(e.id),children:" More Info "})]})]},e.id)}))})]})},v=function(){for(var e=Object(o.f)(),t=[],c=0;c<localStorage.length;c++)t.push(JSON.parse(localStorage.getItem(localStorage.key(c))));return console.log(t),Object(j.jsx)("section",{className:"home-page",children:Object(j.jsx)("div",{className:"cards",children:0!==t.length?t.map((function(t){return Object(j.jsxs)("div",{className:"card",onClick:function(){return c=t.id,void e("individual/".concat(c),{replace:!0});var c},children:[Object(j.jsx)("div",{className:"posterImage",children:Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"No poster"})}),Object(j.jsxs)("div",{className:"movieInfo",children:[Object(j.jsx)("h3",{children:"Title: ".concat(t.title)}),Object(j.jsx)("p",{children:"Released date: ".concat(t.release_date)}),Object(j.jsx)("p",{children:"Rating: ".concat(t.vote_average)}),t.overview.length>80?Object(j.jsxs)("p",{children:[t.overview.substring(0,80)," . . ."]}):Object(j.jsx)("p",{children:t.overview}),Object(j.jsx)(r.b,{to:"/individual/".concat(t.id),children:" More Info "})]})]},t.id)})):Object(j.jsx)("div",{className:"noFavMovie",children:Object(j.jsx)("h1",{children:"Sorry you have no favourited movies. Return to the home page to add a favourite movie"})})})})},x=function(){return Object(j.jsx)("main",{children:Object(j.jsxs)("section",{class:"aboutPage",children:[Object(j.jsx)("h1",{children:"Welcome to Movie App"}),Object(j.jsx)("h3",{children:" Movie App - a Movie Database Listing "}),Object(j.jsxs)("ul",{class:"app-explanation",children:[Object(j.jsx)("li",{children:" Select top-15 movies according to their popularity, rating, and release date "}),Object(j.jsx)("li",{children:" Find your favorate film and save it to the Favorate"})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("article",{id:"aboutPage",children:[Object(j.jsx)("img",{id:"about-page-image",src:"https://ichef.bbci.co.uk/news/976/cpsprodpb/1314/production/_120748840_squid5.jpg",alt:"Introduction Webpage"}),Object(j.jsx)("p",{children:"The app is made by Ryan."}),Object(j.jsxs)("p",{children:["Contact: ",Object(j.jsx)("a",{href:"mailto:ryan.hyun@gmail.com",children:"Ryan Lim"})]})]}),Object(j.jsx)("article",{id:"aboutTmdb",children:Object(j.jsxs)("p",{id:"tmdb",children:[" ",Object(j.jsx)("img",{id:"tmdb-logo",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"TMDB logo"})," This product uses the TMDB API but is not endorsed or certified by TMDB. "]})})]})})},m=c(6),g=c(16),f=c(12);var y=Object(f.b)({name:"user",initialState:{liked:[]},reducers:{addLike:function(e,t){e.liked=[].concat(Object(g.a)(e.liked),[t.payload]),console.log(e.liked);var c=JSON.stringify(e.liked[e.liked.length-1]),a=e.liked[e.liked.length-1].id;null===localStorage.getItem(a)&&localStorage.setItem(a,c)},removeLike:function(e,t){var c;e.liked.splice((c=t.payload,e.liked.findIndex((function(e){return e.id===c.id}))),1),localStorage.removeItem(t.payload.id)},removeAll:function(e,t){console.log("hj"),e.liked=[]}}}),N=y.actions,w=N.addLike,k=N.removeLike,I=N.removeAll,S=y.reducer,_=function(){var e=Object(m.c)((function(e){return e.user.liked})),t=Object(m.b)(),c=Object(o.g)().id,i=Object(a.useState)(null),n=Object(l.a)(i,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(c,"?api_key=").concat("bcc81f6f64d6413280d85014e72e4b15","&language=en-US"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(j.jsx)("div",{className:"detail-page",children:null!==s&&Object(j.jsxs)("div",{className:"detail",children:[Object(j.jsxs)("div",{className:"posterImageDetail",children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(s.poster_path),alt:s.title}),function(t){for(var c=0;c<e.length;c++)if(t===e[c].id)return!0}(s.id)?Object(j.jsx)("button",{onClick:function(){t(k({id:s.id}))},children:"Remove like"}):Object(j.jsx)("button",{onClick:function(){t(w({id:s.id,title:s.title,poster_path:s.poster_path,releaseDate:s.release_date,rating:s.vote_average,overview:s.overview}))},className:"favorite",children:"Like"})]}),Object(j.jsxs)("div",{className:"movieInfoDetail",children:[Object(j.jsx)("h3",{children:"Title: ".concat(s.title)}),Object(j.jsx)("p",{children:"Released date: ".concat(s.release_date)}),Object(j.jsx)("p",{children:"Rating: ".concat(s.vote_average)}),Object(j.jsx)("p",{children:"Overview: ".concat(s.overview)})]})]})})},M=function(){return Object(j.jsx)("footer",{children:Object(j.jsx)("p",{children:"\xa9 2022 Ryan Lim"})})};var J=function(){for(var e=[],t=Object(m.b)(),c=0;c<localStorage.length;c++)e.push(JSON.parse(localStorage.getItem(localStorage.key(c))));return console.log(e),t(I()),e.forEach((function(e){t(w({id:e.id,title:e.title,poster_path:e.poster_path,releaseDate:e.release_date,rating:e.vote_average,overview:e.overview}))})),Object(j.jsx)(r.a,{children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(d,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(O,{sort:"popular"})}),Object(j.jsx)(o.a,{path:"/sort/popular",element:Object(j.jsx)(O,{sort:"popular"})}),Object(j.jsx)(o.a,{path:"/sort/top-rated",element:Object(j.jsx)(O,{sort:"top_rated"})}),Object(j.jsx)(o.a,{path:"/sort/now-playing",element:Object(j.jsx)(O,{sort:"now_playing"})}),Object(j.jsx)(o.a,{path:"/sort/upcoming",element:Object(j.jsx)(O,{sort:"upcoming"})}),Object(j.jsx)(o.a,{path:"/favorite",element:Object(j.jsx)(v,{})}),Object(j.jsx)(o.a,{path:"/about",element:Object(j.jsx)(x,{})}),Object(j.jsx)(o.a,{path:"/individual/:id",element:Object(j.jsx)(_,{})}),Object(j.jsx)(o.a,{path:"/sort/popular/individual/:id",element:Object(j.jsx)(_,{})}),Object(j.jsx)(o.a,{path:"/sort/top-rated/individual/:id",element:Object(j.jsx)(_,{})}),Object(j.jsx)(o.a,{path:"/sort/now-playing/individual/:id",element:Object(j.jsx)(_,{})}),Object(j.jsx)(o.a,{path:"/sort/upcoming/individual/:id",element:Object(j.jsx)(_,{})}),Object(j.jsx)(o.a,{path:"/favorite/individual/:id",element:Object(j.jsx)(_,{})})]}),Object(j.jsx)(M,{})]})})},D=Object(f.a)({reducer:{user:S}});s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(m.a,{store:D,children:Object(j.jsx)(J,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.c2ccd672.chunk.js.map